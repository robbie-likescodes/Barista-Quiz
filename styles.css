:root{
  --bg:#0f1322;
  --panel:#171c2f;
  --panel-2:#1f2744;
  --text:#e8eefc;
  --muted:#9fb0d6;
  --brand:#56b6f7;
  --primary:#42bdf4;
  --success:#35d19a;
  --danger:#e87070;
  --outline: rgba(255,255,255,.08);
  --chip:#2a355b;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text); background: radial-gradient(1200px 600px at 20% -10%,#1c2543 0%,#0f1322 40%, #0f1322 100%);
}

/* Layout */
.container{ max-width:1050px; margin:16px auto; padding: 0 16px 80px; }
.app-header{ position:sticky; top:0; z-index:5; background:linear-gradient(90deg,#12182b, #111527); border-bottom:1px solid var(--outline);}
.app-header .brand{ display:flex; align-items:center; gap:12px; padding:14px 16px 8px; }
.logo{ font-size:22px; }
h1{ margin:0; font-size:28px; letter-spacing:.3px; }
.tabs{ display:flex; gap:10px; padding:0 16px 14px; flex-wrap:wrap; }
.tab{
  appearance:none; border:1px solid var(--outline); background:#18203a; color:var(--text);
  padding:8px 14px; border-radius:999px; cursor:pointer;
}
.tab.active{ background:var(--brand); color:#061125; border-color:transparent; font-weight:600; }

.view{ display:none; }
.view.active{ display:block; }

.card{
  background:var(--panel); border:1px solid var(--outline); border-radius:14px; padding:16px; margin:16px 0;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.card-head{ display:flex; align-items:center; gap:10px; }
.grow{ flex:1; }
.mt{ margin-top:14px; }
.mt-sm{ margin-top:8px; }
.lead{ font-size:18px; }
.hint{ color:var(--muted); font-size:13px; }
.hidden{ display:none !important; }

/* Inputs */
.input{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--outline); background:var(--panel-2); color:var(--text);
}
.input.small{ max-width:120px; }
.textarea{ width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--outline); background:var(--panel-2); color:var(--text); }

.label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }

/* Buttons */
.btn{
  appearance:none; border:1px solid transparent; border-radius:12px; padding:10px 14px;
  background:#26335b; color:var(--text); cursor:pointer; font-weight:600;
}
.btn:hover{ filter:brightness(1.05); }
.btn.primary{ background:var(--primary); color:#041221; }
.btn.success{ background:var(--success); color:#062013; }
.btn.danger{ background:var(--danger); }
.btn.ghost{ background:transparent; border-color:var(--outline); }
.btn.small{ padding:7px 10px; font-size:13px; }

/* Grid */
.grid{ display:grid; gap:12px; }
.grid.g2{ grid-template-columns: repeat(2,minmax(0,1fr)); }
.grid.g3{ grid-template-columns: repeat(3,minmax(0,1fr)); }
@media (max-width:800px){
  .grid.g2, .grid.g3{ grid-template-columns: 1fr; }
}

/* Lists & rows */
.list .cardline{
  display:grid; grid-template-columns: 1.3fr 1fr auto; gap:12px;
  padding:12px; border-radius:10px; background:var(--panel-2); margin:10px 0;
}
.list .actions{ display:flex; gap:8px; justify-content:flex-end; align-items:center; }
@media (max-width:800px){
  .list .cardline{ grid-template-columns: 1fr; }
}

/* Deck pick */
.deck-pick .deck-row{
  border:1px dashed var(--outline); border-radius:12px; padding:12px; margin:10px 0; background:#141a2e;
}
.deck-pick .top{ display:flex; align-items:center; gap:12px; }
.wrap{ display:flex; align-items:center; gap:10px; }
.subs{ margin-top:10px; display:flex; flex-wrap:wrap; gap:10px; }
.subchip{ display:flex; align-items:center; gap:6px; background:var(--chip); border:1px solid var(--outline); padding:6px 10px; border-radius:12px; }

/* Chips */
.chips{ display:flex; flex-wrap:wrap; gap:10px; }
.chip{ display:flex; align-items:center; gap:8px; border:1px solid var(--outline); background:var(--panel-2); padding:8px 12px; border-radius:999px; }

/* Switch */
.switch{ display:flex; align-items:center; gap:8px; }
.switch input{ transform: scale(1.2); }

/* Flashcard */
.flip{ position:relative; perspective:1200px; min-height:180px; }
.flip .front, .flip .back{
  border-radius:12px; border:1px solid var(--outline); background:var(--panel-2); padding:18px;
  position:absolute; inset:0; backface-visibility:hidden; transition:transform .5s ease;
  display:flex; flex-direction:column; align-items:flex-start; justify-content:center;
}
.flip .front{ transform: rotateY(0deg); }
.flip .back{ transform: rotateY(180deg); }
.flip.flipped .front{ transform: rotateY(180deg); }
.flip.flipped .back{ transform: rotateY(360deg); }
.fc-title{ color:var(--muted); text-transform:uppercase; letter-spacing:.12em; font-size:12px; margin-bottom:6px; }
.fc-text{ font-size:18px; }

/* Quiz */
.options{ display:grid; gap:10px; }
.option{ display:flex; align-items:center; gap:10px; padding:12px; border-radius:12px; border:1px solid var(--outline); background:#1a2140; }
.option.correct{ border-color:#2bd4a9; background:rgba(43,212,169,.08); }
.option.incorrect{ border-color:#e87070; background:rgba(232,112,112,.08); }
.option.disabled{ opacity:.7; pointer-events:none; }
.bar{ display:flex; align-items:center; gap:14px; }

/* Tables */
.table-wrap{ overflow:auto; }
.table{ width:100%; border-collapse: collapse; }
.table th,.table td{ border-bottom:1px solid var(--outline); padding:10px 8px; text-align:left; }
.table th{ color:var(--muted); font-weight:600; font-size:12px; text-transform:uppercase; letter-spacing:.08em; }

.footer{ text-align:center; padding:30px 0; color:var(--muted); }
